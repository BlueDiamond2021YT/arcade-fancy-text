//% block="Fancy Text"
//% color="#bf42f5"
//$ icon="\uf031"
namespace fancyText {
    export enum TextSpeed {
        //% block="very slow"
        VerySlow = 4,
        //% block="slow"
        Slow = 8,
        //% block="normal"
        Normal = 12,
        //% block="fast"
        Fast = 16,
        //% block="very fast"
        VeryFast = 20
    }

    //% blockId=fancy_text_create
    //% block="create text sprite $text||with max width $maxWidth color $color font $font"
    //% text.defl="abc"
    //% maxWidth.defl=100
    //% maxWidth.min=0
    //% color.shadow=colorindexpicker
    //% font.shadow=fancy_text__fontPicker
    //% blockSetVariable=myTextSprite
    //% group=Create
    //% weight=100
    export function create(text: string, maxWidth?: number, color?: number, font?: BaseFont): TextSprite {
        const sprite = new TextSprite(text);

        if (maxWidth) sprite.setMaxWidth(maxWidth);
        if (color) sprite.setColor(color);
        if (font) sprite.setFont(font);

        sprite.x = screen.width >> 1;
        sprite.y = screen.height >> 1;

        return sprite;
    }

    //% shim=TD_ID
    //% blockId=fancy_text__fontPicker
    //% block="$font"
    //% group=Create
    //% weight=0
    export function __fontPicker(font: BaseFont): BaseFont {
        return font;
    }

    //% shim=TD_ID
    //% blockId=fancy_text__speedPicker
    //% block="$speed"
    //% group=Animate
    //% weight=0
    export function __speedPicker(speed: TextSpeed): number {
        return speed;
    }

    //% whenUsed
    //% block="sans 8"
    //% blockIdentity=fancy_text__fontPicker
    //% fixedInstance
    export const sans8Font: fancyText.BaseFont = new LegacyFont(image.font8);

    //% whenUsed
    //% block="sans 12"
    //% blockIdentity=fancy_text__fontPicker
    //% fixedInstance
    export const sans12Font: fancyText.BaseFont = new LegacyFont(image.font12);

    //% whenUsed
    //% block="sans 5"
    //% blockIdentity=fancy_text__fontPicker
    //% fixedInstance
    export const sans5Font: fancyText.BaseFont = new LegacyFont(image.font5);

    //% whenUsed
    //% block="serif 8"
    //% blockIdentity=fancy_text__fontPicker
    //% fixedInstance
    export const serif8Font: fancyText.BaseFont = new Font(hex`db19f1685e000c08010510002100000022000700230011002400200025002c00260038002700450028004c00290055002a005e002b0068002c0073002d007b002e0085002f008c00300095003100a0003200a9003300b4003400bf003500cb003600d6003700e1003800ec003900f7003a0002013b0009013c0011013d001d013e0027013f00330140003d0141004a0142005801430064014400700145007c01460088014700930148009f014900ac014a00b5014b00c6014c00d3014d00de014e00ee014f00fd0150000a025100160252002b0253003802540043025500500256005e0257006c0258007c0259008a025a0099025b00a5025c00ad025d00b6025e00be025f00c8026000d4026100dc026200e7026300f2026400fc02650007036600110367001b0368002503690031036a003a036b0049036c0056036d005f036e006d036f0079037000830371008e03720099037300a3037400ac037500b5037600c1037700cd037800db037900e5037a00f2037b00fc037c0005047d000e047e00170402020800f8dfdf05050400f80e07000e070a0a0800f820e4fc3f27e4fc3f270407070800f82c5e52ff52762407070600fa0333180c06333008080800f860f69b91bb66d08002020400f80e0704040800f83c7ec38104040800f881c37e3c06050501fa150e1f0e1506060600f90c0c3f3f0c0c03030300fe06070305050200fb030303030302020200fe030304040800f8e0f81f0706060800f87effb18dff7e04040800f886ffff8006060800f8c6e7f3dbcfe606060800f866e7c3dbff6607070800f8383c26a3ffff8006060800f85fdf9b9bfb7306060800f87eff8989fb7206060800f803c3e3331f0f06060800f876ff8989ff7606060800f84edf9191ff7e02020500fa1b1b03030600fa303b1b07070500fa04040e0e1b1b1105050500fa1b1b1b1b1b07070500fa111b1b0e0e040405050800f803dbdb0f0e08080800f83e419d95bda19e4009090800f880c0f0bc27bef8e08007070800f881ffff9999fe7007070800f83c7ec38181c36607070800f881ffff8181c37e07070800f881ffff91b9c3e706060800f881ffff91390307070800f83c7ec381d1f37608080800f881ffff991899ff8104040800f881ffff8106060a00f8800100030103ff03ff01010008080800f881ffff9138e5c38106060800f881ffff8180c00b0b0800f880ffff8e38e0388effff800a0a0800f881ffff860c18317fff0108080800f83c7ec38181c37e3c07070800f881ffff91111f0e08080a00f83c007e00c30081018103c3027e023c0208080800f881ffff9131fbce8006060800f866cf9bd9f36608080800f8030181ffff81010309090800f8013f7fc18080413f0109090800f801071f79e0601907010b0b0800f801071f79e078e0791f070109090800f881c3e7bd18bde7c3810a0a0800f80103078df8f88d07030107070800f8c7e3f3dbcfc7e303030800f8ffff8104040800f8071ff8e003030800f881ffff05050400f80c0603060c07070200fe0303030303030303030300f803070606060600fa183d253f3e2006060800f881ffff88f87005050500fb0e1f1b110a06060800f870f889ffff8005050500fb0e1f15170605050800f888feff8b0205050800fb4edf91ff7e07070800f881ffff9818f08004040800f880f3fb8005050a00f8800100030003f303fb0108080800f881ffff9138ecc48004040800f880feff8009090500fb101e1f130e131f1e1007070500fb111f1f13031e1005050500fb0e1f111f0e06060800fb81ffff911f0e06060800fb0e1f91ffff8105050600fa203f3f220604040500fb16171d0d04040700f9043e7f4407070500fb010f1f101f1f1107070500fb01070f180f070109090500fb01070f190c190f070105050500fb1b1f041f1b08080700fb0143673d1805030105050500fb191d15171304040800f8087ef78102020900f8ff01ff0104040800f881f77e0808080500fa060303060c18180c`);

    //% whenUsed
    //% block="gothic"
    //% blockIdentity=fancy_text__fontPicker
    //% fixedInstance
    export const gothicFont: fancyText.BaseFont = new Font(hex`db19f16834001d1501055c004100000042003e0043007f004400bd004500010146003f01470083014800c101490008024a0040024b007e024c00c5024d0006034e005c034f00af035000f3035100500452009d045300e10454002b05550072055600bf055700f70558004706590085065a00e606610018076200330763005c076400750765009e076600b7076700d70768000308690029086a0046086b0060086c008f086d00af086e00de086f00010970001a09710040097200660973007f097400a2097500c2097600e3097700060a78003b0a7900560a7a007f0a14131401ec00000600000bc0810338c6030c7807063007463806233c0e33360c333306f33103e3b00166f000367000fcff0ff0ff0ff8ff0f04000404000214141700ec0c0100868000c34038c3606cc36166fbff07ffff07ff7f03060003e3ff03f9ff03fc7f06060006c3ff0703890c838908c38804ffff037efe013cfc0013131500ec800f00f07f00fcff011cf00306800703c00701600ef03f0ef81f0cfc0f1c060018ffff1f0e00181c00181c000c18000c08000e000006000002131515feec00400000200800300c03700706f0130eff198eff0cce3f06ee00073e80038e7f037e00030e0007feff070e240e0e240e1c240c3c240cf8ff07f0ff03c0ff0113131500ec800f00f07f00fcff011cf00306800703c00701600ef03f0ef81f0cfc0f1c060018ffff1f0e03189c0318dc030cb8030c98030e800306800102131517feec000060000030000230000170000160800120800130f0ff1ff0ff17f8ff1308000804000cfcff0ffeff07ffff038e01008e01008c01008c000006000003000013131500ec003c0000ff0080c703c0800760c00ff07f0ef83f1cfc3f1c0606180703188eff1fce2109ec2109bc23091c27050c3f0704fe0300fc01007000151617ffec08040004020106833086c35886c70cfcff07fcff07feff03060003038007f1ff06f97f0efc3f0c0c250c861406421473629469f0140ce02306c0ff0380ff0100ff00101115ffec08001004000806080c060404060606060606f4070efc7f0efeff0f06fc0b02c019f90310fcff10feff1906fc0f02000701000013131700ec1c0000368860334430036630076e3007fe7086ff7fe6ff6ff4ff273c00201c001084ff0fe4ff07f2ff013a00000e000006000003000001000016161500ec0c02000e810087411087611883e30ee2ff07faff05feff04060006030007f1ff0e8c301c42381821780870f404f8e203f0c107e0800f40000700000200000100800014141800ec1808001c04812c86c00cc66006ce78f6ff7ffeff2ffeff3307003801002ef0ff37fcff33feff181e001807003803003801007001003000001800000c191b16feec00200000100000101800182c003806e0ff07f0ff0ff8ff0e0c0004feff03060200030300030302ffff07ffff0ffeff0f040304040302feff01030100070000ffff01feff07fcff0f040007020002000001191a16ffec00002000081080041940861860c638e0ce3ef0ff3ff0ff37f8ff310c001804000efeff0182100082100003090007090006091c0e092f9cf007bc7806f80f07f0070fc0010f00000600000200000115151400ec003e0000ff0080ff01c0e003208007f0ff07f87f06fc3f0606000effff0f07110e07110e86200e8e200e8e200f8e20071c91073cf103f8ff01f0ff00e03f0015161bffec0000080000010400040306000203060083060600830e0700473c0700ffffff07feffff07fcffff072000000410000004feffff0708410600044106000c220e001e220c003e220c007c220400f8ff0300f0ff0100e0ff000018181500ec003e0000ff0080ff01c0e003208007f0ff07f87f06fc3f0606000effff0f07110e07110e86200e8e200e8e200f8e20071c91073cf103f8ff07f0ff0fe03f1e00000c00000400000215151500ec00011080010c810306470f06ffff03feff03feff03100007080006f8ff0704180c061c1c0f1e181f3f08befd00fcf80378f00730c00f00000700000200000117171700ec000f18801c3c40184ce03846f03146d871268c732e86732e87f31f8e731e8e7b1c9c771c9c731ef8733bd8f139c6f138c0610c80010680030300070300ff0100fe00003c00151615ffec2000001800000c0000860f00e67f00feff011ef0030ec0070ec0070e600ffe3f0ffc1f1efc0f1e1c001cfcff1f1c001c1e001c1e000c0e000e0e000707800303000018181500ec807f00e0ff01f8ff0308e00704c00704600fe23f0ff21f1efe0f1e02001cffff1f80201c80201c08110c04110e0611070f9103feff03fcff07fcff0f02000f000006000002000001101114ffec040000021000030808070c0c3f0c0ffedd05fcff04f07f02102f0310210308220708120e181207fcd203fcff00e07f00003f00181914ffec040000021000030808070c0c1f0c0ffedc05fcff04f07f02102f0310220308220708120e181207fcd205fcff04f07f02103f0310210308120708120e181207fcd201fcff00e07f00003f0013131400ec08800306800303000703000707000e1f00067e8001f86100e01f00801f00807f0060f80118e00706800f07000e0e000c0e000c1c00061c000116171cffec0000c0010400e0030284f007034230070763180e1ee7180cfcff0f0cf8ff0f06e0ff0f064000080320008801f0ff8f0108218c0d0c210e0f06120606061206000e1207000e2203000ce103003cf10100f8ff0000f03f0000c00700000f0f1400ec04000002040807040e06050f0ec50f0cf5070c7d060c1f06c60707f605077e050f1e050f0605060201020001010b0b0d00f30807bc0f421c430847044602fe07fc0ffc1f021c00040c0c1400ec020002feff03fcff07feff0703040e01020c00020c00010480010680ff0300ff0300fe010a0a0d00f30004f807fc0ffe0f071c0f181e183c0c180600020c0c1200ee0780000ffe001eff01bcff01f88003708003e00003c0810180ff0000ff00007f000001000a0a0d00f30004f007f80ffc0f821c431827181f080e04040209091400ec800100800102f8ff03fcff07feff0787010e8e01061c00030800010d0d1400f3fc0304fc070efe0f0d029c0c03780e033006061806fe0f06fc3f0efc7f0c0ee00f0fc00f0080070b0b1700ec020002feff07fcff0ffeff47030c4201066000032080073000ff1f00fe0f00fc0308081100ef400000e03f00f67f00e7ff0043e00100c00000400000200007071700ef000040800020400030e03f18f6ff1fe7ff0f43f0070f0e1401ec020004feff07fcff0ffeff0f038c0d01c60800630480730000ff0700ee0f00c40f00000600000200000109091400ec020002feff03fcff07ffff0701000e00000e00000600000300000115150d00f304000204ff0ffe1ffc0f0804040002000704fe0ffe1ffc0f080404000200ff07fe0ffc1f000c000400020f0f0d00f304000204ff0ffe1ffc0f0804040002000700fe07fe0ffc1f000c000400020a0a0d00f30004fc07fe07ff0f030c06180e18fc0ff80ff8070b0b1400f3040c00020c04ffff07feff07fcff0f020c08031800071800fe0f00fc0700f803000b0b1400f3f00700f80f00fc1f000e0c000704000f02001e0108fcff0ff8ff07f0ff071000040a0a0d00f304000204ff07fe0ffc0f041e020c07040e0204000f0f1000f0008000c000e0f070f879fc6f9ce71cc398c1d8e0f071f07b9b3f0f1f001e0a091301edc00001f0ff01fcff03ffff03c00007c00007c000030080010080000e0e0d00f308000400fe07ff0ffe1f040800040402fe07ff0ffe1f041c000800040a0a1100ef1c4000fe7f00f2ff00e1ff00808001400001208000f0ff00e07f00c07f0010101100ef1c4000fe7f00f2ff00e1ff00808001400001208000f0ff00e0ff00c0ff00808001400001208000f0ff00e0ff00c07f000b0b0d00f3060c03180f183e0efc07f003f80f0e1f031c0318060c0c0c1400f3040000020003ffff04fe7f08fc3f081010080808040404000e0200ff0100fe00007c000008081300f3880003c48004ee8004ffc000de71008c3f00841f00000f00`);

    //% whenUsed
    //% block="sans outline"
    //% blockIdentity=fancy_text__fontPicker
    //% fixedInstance
    export const outlineFont: fancyText.BaseFont = new Font(hex`db19f1685e00120d01051a002100000022000d00230019002400340025004700260060002700790028008100290090002a009f002b00ab002c00b7002d00c1002e00cd002f00d6003000e5003100fc0032000f01330024013400390135004c0136006101370076013800890139009e013a00b3013b00c0013c00cd013d00e6013e00f2013f000b0240001c024100370242004c024300630244007a0245008f024600a2024700b7024800ce024900e3024a00f2024b0009034c001e034d002f034e004a034f00630350007c03510091035200ac035300c1035400d6035500e9035600fe035700150458003404590049045a0060045b0077045c0086045d0095045e00a4045f00b0046000be046100c8046200d6046300eb046400f60465000b05660017056700280568003d05690050056a005b056b006e056c0081056d008c056e0098056f00a4057000b1057100c6057200db057300e6057400f205750003067600100677001c0678002a06790036067a004b067b0058067c0069067d0074067e00850604040c00f43e06410941093e0607070500f40e110e000e110e0b0b0b00f58800540176030104760354017603010476035401880008070d01f43806440abb1b0110bb1b4a04cc030b0a0b01f5060089014901260190004800240392048a0406030b0a0a01f6e0001c014202ad02ad0242021c015002a002000103030500f40e110e05050c00f4f0000c03f2040d0b030405050c00f402040d0bf2040c03f00008070701f722552a142a552207070700f80814364136140805050400fe0c0a09050307070300fa0205050505050204040400fc0609090605050c00f4000ff0080f0ff1000f0009090c00f4f0000c0362049909050a990962040c03f00007070c00f4180e140af30b0108ff0b000a000e08080c00f41c0f9208590a250b950a490a220a1c0e08080c00f49c0392049909650a950a090962049c0307070c00f47e008100be00a000be0f0108fe0f08080c00f43f0341055d09550a550ad5092504c70308080c00f4fc0302049909550a550a99092a04c40307070c00f407000500050fe5081d0fe1001f0008080c00f4dc0322048909550a550a89092204dc0308080c00f43c0242059909a50aa50a99090204fc0304040900f6c60029012901c60004040a00f6860149022901c6000a0a0900f710002800280054005400aa00aa0045014501820007070500f80a15151515150a0a0a0900f7820045014501aa00aa005400540028002800100006060c00f4060039064509450931061e000b0b0b00f5f800040172028904250555052505090572050405f80708080c00f4fc0f0208b90fa500a500b90f0208fc0f09090c00f4fe0f0108dd0b550a590a420a9c092004c00309090c00f4f0000c03f2040d0b050a050a9d0b92049c0308080c00f4ff0f0108fd0b050a050af9090204fc0307070c00f4ff0f0108bd0ba50ae50a050a070e08080c00f4ff0f0108bd0fa500a500e5000500070009090c00f4f0000c03f2040d0b050ac50b5d0b5204dc0308080c00f4ff0f0108bf0fa000a000bf0f0108ff0f05050c00f4070efd0b0108fd0b070e09090c00f4c0034004c709050afd090104fd030500070008080c00f4ff0f01088f0f88002401530e8908070f06060c00f4ff0f0108ff0b000a000a000e0b0b0c00f4fc0f0208f90f0500f9008200f9000500f90f0208fc0f0a0a0c00f4ff0f0108fd0f1900660098016006ff090108ff0f0a0a0c00f4f0000c0362049909050a050a990962040c03f00008080c00f4ff0f0108bd0fa500a500990042003c000b0b0c00f4f0000c0362049909050a050a990962040c09f00a000408080c00f4ff0f01083d0f2502a5049909420a3c0c08080c00f49c03a204c909550a550a99093204dc0307070c00f407000500fd0f0108fd0f0500070008080c00f4ff030104ff09000a000aff090104ff0309090c00f40f00f1000703780c8009780c0703f1000f000d0d0c00f41f00e1010f0ef008800c400220014002800cf0080f0ee1011f0008080c00f4070e9909630c0c030c03630c9909070e09090c00f41f0021004f00900f2008900f4f0021001f0009090c00f4070f850845082509950a490a210a110a0f0e05050c00f4ff0f0108fd0b050a070e05050c00f40f00f1000f0ff008000f05050c00f4070e050afd0b0108ff0f07070700f4304c320d324c3009090300fd07050505050505050705050400f40305090a0c09090800f83c4299a5a5b982bce008080c00f4ff0f0108df0b500a500a90092004c00306060800f83c4299a5a5e708080c00f4c00320049009500a500adf0b0108ff0f07070800f83c42adadade21c06060c00f4e000bc0f0208bd0fe500060008080d00f83c04420a9912a514a514b9130208fc0707070c00f4ff0f01089f0f5000900f2008c00f03030a00f6f7031502f70307070c00f4000380040009000af7091504f70307070c00f4ff0f01087f0e20049009500a300c03030c00f4ff0f0108ff0f07070800f8fe83f922f983fe07070800f8ff81fb0af284f808080800f83c4299a5a599423c08080d00f8ff1f0110bd1fa500a500990042003c0008080d00f83c0042009900a500a500bd1f0110fe1f06060800f8ff81fb0a121c07070800f87cb2a1ad89da7406060c00f47000df030104df09700a000e08080800f83f419fa09f81bfc007070800f80719679867190709090800f83fc19fc824c89fc13f07070800f8c3a5db24dba5c308080d00f83f04410a9f12a014a014bf130108ff0708080800f8e795adadb5b5a9e706060c00f44000a0001e074108bd0b020403030d00f3ff1f0110ff1f06060c00f40204bd0b41081e07a00040000a0a0500f90c120905091214120906`);
}